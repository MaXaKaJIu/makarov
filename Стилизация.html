<!DOCTYPE html>
<html>
<head lang="en">
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>стилизация</title>
	<link rel="stylesheet" href="style1.css">
</head>
<body>

	<div class="wrapper">
			<div class="form">
				<form action="#" id="form" class="form_body">
					<h1 class="form_title"> Отправка данных на почту</h1>
					<div class="form_item">
						<label for="formName" class="form_label">Имя*:</label>
						<input id="formName" type="text" name="name" class="form_input _req">
					<div>

					<div class="form_item">
						<label for="formEmail" class="form_label">E-mail*:</label>
						<input id="formEmail" type="text" name="email" class="form_input _req">	
					</div>

					<div class="form_item">
						<div class="form_label">Левша или правша?</div>	
						<div class="options">
							<div class="options_item">
								<input id="formRightHanded" checked type="radio" value="right" name="hand" class="options_input">
								<label for="formRightHanded" class="options_label"><span>Правша</span></label>
							</div>	
							<div class="options_item">
								<input id="formLeftHanded" type="radio" value="left" name="hand" class="options_input">
								<label for="formLeftHanded" class="options_label"><span>Левша</span></label>
							</div>
						</div> 
					</div>

					<div class="form_item">
						<label for="formMessage" class="form_label">Сообщение:</label>
						<textarea name="message" id="formMessage" class="form_input"></textarea>
					</div>

					<div class="form_item">
						<div class="form_label">Возраст:</div>
						<select name="age" class="select">
							<option value="от 18 до 25" selected>Молодой</option>
							<option value="от 25 до 45" >Взрослый</option>
							<option value="от 45" >Старый</option>
						</select>
					</div>

					<div class="for_item">
						<div class="form_label">Прикрепить фото</div>
						<div class="file">
							<div class="file_item">
								<input id="formImage" accept=".jpg, .png, .gif" type="file" name="image" class="file_input">
								<div class="file_button">Выбрать</div>
							</div>
							<div class="file_preview"></div>
						</div>	
					</div>

					<div class="form_item">
						<div class="checkbox">
							<input id="formAgreement" checked type="checkbox" name="agreement" class="checkbox_input _req">
							<label for="formAgreement" class="checkbox_label"><span>Я даю согласие на обработку персональныых данных</span></label>	
						</div>
					</div>

					<button type="submit" class="form_button">Отправить</button>

				</form>
			</div>
		</div>
					
		<script>
			"use strict"

document.addEventListener('DOMContentLoaded', function (){
	const form = document.getElementById('form');
	form.addEventListener('submit', formSend);

	async function formSend(e) {
		e.preventDefault();

		let error = formValidate(form);

	}

	function formValidate(e) {
		let error = 0;
		let formReq =document.querySelector ('._req ')

		for (let index = 0; index < formReq.length; index++) {
			const input = formReq[index];

			if (input.classList.contains('_email')) {
				if (emailTest(input)) {
					formAddError(input);
					error++;
				}
			} else if (input.getAttribute("type") === "checkbox" && input.checked === false) {
				formAddError(input);
				error++
			} else {
				if (input.value === '') {
					formAddError(input);
					error++;
				}
			}


		}
	}
	function formAddError(input) {
		input.parentElement.classList.add('_error');
		input.classList.add('_error');
	}

	function formRemoveError(input) {
		input.parentElement.classList.remove('_error');
		input.classList.remove('_error');
	}

	//Функия теста emaeil
	function emailTest(input) {
		return  !/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\. \w{2.8})+$/.test(input.value);
	}
});
		</script>				

</html>